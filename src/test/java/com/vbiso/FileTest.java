package com.vbiso;

import com.vbiso.utils.FileUtil;
import java.io.FileInputStream;
import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.Arrays;
import java.util.List;
import org.junit.Test;

/**
 * @Author: wenliujie
 * @Description:
 * @Date: Created in 2:30 PM 2018/12/13
 * @Modified By:
 */
public class FileTest {

  private static final String file_name = "/Users/vbisowen/Desktop/test.txt";

  @Test
  public void testFileReader() throws IOException {
    Path path = Paths.get(file_name);
    FileInputStream fileInputStream = new FileInputStream(path.toFile());
    List<String> fileStringLines = FileUtil.getFileStringLines(fileInputStream);
  }

  @Test
  public void testFile() {
    String property = System.getProperty("java.io.tmpdir");
    System.out.println(StandardCharsets.UTF_8.name());
    System.out.println(property);
  }

  @Test
  public void testDouble() {
    System.out.println(Math.ceil(5 / 2.0));
  }

  @Test
  public void testSplitArrar() {
    String keys = "152741566,1052162151,2658963920,53996004,1680165824,193502143,467581594,2826236373,1114645587,73949549,2469562247,2935704281,3409587831,2177009988,384701816,1777559618,731540192,1644258287,258864658,1879192469,850298692,2077676622,2527740099,436289756,738273224,1071824174,2380416887,2540423819,1635311200,1642903049,523839324,143584903,1677293958,2453841799,1045145001,1701810356,822748943,420284856,2038190286,1758991051,833261111,3079643236,1579940938,361228028,552884052,21659330,3338963428,2591319573,1722005085,1589554218,2013902750,52371042,1094711476,1714421245,667772824,2096832371,57526744,667066596,885839988,2630993141,239627417,1035301420,2362811866,1650438331,779529792,843386707,262659183,50454948,151940621,1077979376,116043003,817767474,1845689476,2398329469,2418706604,2176320598,712110029,1755612437,2999185394,470733039,2682768161,65386645,53790258,327671008,28329090,2969638649,2292343011,715463997,3386085948,2168800166,2082410464,2961798612,2916264679,1123740951,474359666,2191707152,61169695,701751992,3370050028,2127130225,2069568072,70239350,2107759029,765391429,1737955717,1095251662,1710482305,479287798,2090170274,2772080898,1055530397,1744921231,20003478,2612002833,2335305051,1019292692,1773095659,20868741,2057428013,196173223,1602099579,2379788782,381329993,71460541,1810832479,2638829335,355499374,2830047887,193502143,2974167399,2448802922,2643486953,1061690320,2159616682,729434847,2262500569,913217145,101450072,43632109,2113790535,2576189099,835026114,303566060,2219387890,358164451,450969373,2177009988,3299066796,2968292908,1848219836,2614008534,1808945499,770622025,2174360244,2354641172,2119678292,274181551,2081058060,2298471098,797567822,2179896756,285940116,1620343221,2452347015,1710310361,1791703401,734548981,1712484042,758299113,3037963981,2098904675,1692267959,820353206,200906269,1623755810,1650429497,108727117,1107209550,379752451,2794890945,2660143464,699724610,2451193866,43290044,772376192,704298669,690444147,773592828,3309612210,2075384612,2032840798,1720131773,1690425481,2217145602,2995821815,752440565,1983221995,474461573,1052501866,2253486272,1812648039,2457813340,2098914042,2482635690,436282312,779266623,743491614,806799685,2877706782,2265599537,1102315914,18520876762,87578096,3085429505,357031128,1872340602,13626568,2561855019,163613819,2863359127,1873220527,1832738091,2765322692,2550592806,2662673928,4075533129,1746354587,3436533774,137999689,3599678600,3698120262,4163194675,508215524,4106327825,2456352427,18103702,2922587332,12028739,3200313398,279512537,2078754326,3083793236,2072004631,4093779675,44674038,2078754326,3083793236,2072004631,4093779675,44674038,3329219734,3821475377,3994652824,3329219734,527702517,3421570100,3083639051,2570569779,1700259263,2636016065,2182574435,496068508";
    String[] split = keys.split(",");
    System.out.println(split.length);
  }

  @Test
  public void testCreateFile() throws IOException {
    String url = "/data/trade/2018/02/13/";
    String fileName = "test.file";
    Path path = Paths.get(url, fileName);
    if (!path.toFile().exists()) {
      Files.createDirectories(Paths.get(url));
      Files.createFile(path);
    }
  }

  @Test
  public void testSplit() {
    String content = "2019-02-27 15:09:46<EOF>20190227<EOF>2017-02-16 19:12:11<EOF>20170216<EOF>H<EOF>3138056104800174<EOF>2088502992648841<EOF>false<EOF>2088502992648841<EOF>浙江杭州电信<EOF>false<EOF>0<EOF>false<EOF>false<EOF>0.0<EOF>NEW_CREATED<EOF>0<EOF>0.0<EOF>false<EOF>1<EOF>532701892582<EOF>https://img.alicdn.com/bao/uploaded/i4/152741566/TB2s4AWppXXXXbSXXXXXXXXXXXX_!!152741566.jpg<EOF>0<EOF>0.0<EOF>0.0<EOF>0<EOF>0.0<EOF>西湖区<EOF>310013<EOF>5<EOF>false<EOF>0<EOF>WAP,WAP<EOF>156********;<EOF>fixed<EOF>false<EOF>1487502741000<EOF>1490094909000<EOF>0<EOF>蒋*街道**街西溪华府23**单元801<EOF>杭州市<EOF>TRADE_CLOSED_BY_TAOBAO<EOF>是我是我啊<EOF>1975.0<EOF>浙江省<EOF>express<EOF>1975.0<EOF>0<EOF>想就是思考<EOF>p1nky_yy<EOF>152741566<EOF>1487243531000<EOF>李**<EOF><EOF>156********<EOF>152741566<EOF>20170216<EOF>";
    String[] split = content.split("<EOF>");
    Arrays.stream(split).forEach(System.out::println);
    System.out.println(content.split("<EOF>").length);
  }

  @Test
  public void testSpilit1() {
    String str = "470733039,2682768161,65386645,53790258,327671008,28329090,2969638649,2292343011,715463997,3386085948,2168800166,2082410464,2961798612,2916264679,1123740951,474359666,2191707152,61169695,701751992,3370050028,2127130225,2069568072,70239350,2107759029,765391429,1737955717,1095251662,1710482305,479287798,2090170274,2772080898,1055530397,1744921231,20003478,2612002833,2335305051,1019292692,1773095659,20868741,2057428013,196173223,1602099579,2379788782,381329993,71460541,1810832479,2638829335,355499374,2830047887,193502143,2974167399,2448802922,2643486953,1061690320,2159616682,729434847,2262500569,913217145,101450072,43632109,2113790535,2576189099,835026114,303566060,2219387890,358164451,450969373,2177009988,3299066796,2968292908,1848219836,2614008534,1808945499,770622025,2174360244,2354641172,2119678292,274181551,2081058060,2298471098,797567822,2179896756,285940116,1620343221,2452347015,1710310361,1791703401,734548981,1712484042,758299113,3037963981,2098904675,1692267959,820353206,200906269,1623755810,1650429497,108727117,1107209550,379752451,2794890945,2660143464,699724610,2451193866,43290044,772376192,704298669,690444147,773592828,3309612210,2075384612,2032840798,1720131773,1690425481,2217145602,2995821815,752440565,1983221995,474461573,1052501866,2253486272,1812648039,2457813340,2098914042,2482635690,436282312,779266623,743491614,806799685,2877706782,2265599537,1102315914,18520876762,87578096,3085429505,357031128,1872340602,13626568,2561855019,163613819,2863359127,1873220527,1832738091,2765322692,2550592806,2662673928,4075533129,1746354587,3436533774,137999689,3599678600,3698120262,4163194675,508215524,4106327825,2456352427,18103702,2922587332,12028739,3200313398,279512537,2078754326,3083793236,2072004631,4093779675,44674038,2078754326,3083793236,2072004631,4093779675,44674038,3329219734,3821475377,3994652824,3329219734,527702517,3421570100,3083639051,2570569779,1700259263,2636016065,2182574435,496068508";
    String[] split = str.split(",");
    int i=0;
    for(int j =0; j<split.length;j++){
      ++ i;
      if(i<60) {
        System.out.print(split[i]+",");
      }
    }
  }

  @Test
  public void testSplite2(){
   String str= "2682768161,65386645,53790258,327671008,28329090,2969638649,2292343011,715463997,3386085948,2168800166,2082410464,2961798612,2916264679,1123740951,474359666,2191707152,61169695,701751992,3370050028,2127130225,2069568072,70239350,2107759029,765391429,1737955717,1095251662,1710482305,479287798,2090170274,2772080898,1055530397,1744921231,20003478,2612002833,2335305051,1019292692,1773095659,20868741,2057428013,196173223,1602099579,2379788782,381329993,71460541,1810832479,2638829335,355499374,2830047887,193502143,2974167399,2448802922,2643486953,1061690320,2159616682,729434847,2262500569,913217145,101450072,43632109";
    System.out.println(str.split(",").length);
  }

}
